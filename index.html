<!doctype html>
<html lang="zh-CN">
  
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>娇姐学习卡片中心</title>
    <script>
      (function initializeTheme() {
        try {
          const saved = localStorage.getItem('theme');
          const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
          const theme = saved || (prefersDark ? 'dark' : 'light');
          document.documentElement.classList.remove('light', 'dark');
          document.documentElement.classList.add(theme);
        } catch (error) {
          document.documentElement.classList.add('light');
        }
      })();
    </script>
    <script>
      window.tailwind = window.tailwind || {};
      window.tailwind.config = {
        darkMode: "class",
      };
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body class="bg-gray-50 text-gray-900 transition-colors duration-300 dark:bg-gray-900 dark:text-gray-100">
    <div id="app" class="min-h-screen flex flex-col tech-bg">
      <header class="sticky top-0 z-50 bg-white bg-opacity-90 shadow-sm backdrop-blur-md transition-colors duration-300 dark:bg-gray-900 dark:bg-opacity-90">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
          <div class="flex h-16 items-center justify-between md:h-20">
            <div class="flex items-center">
              <div class="mr-3 flex h-10 w-10 items-center justify-center rounded-full bg-yellow-400 text-white">
                <i class="fa-solid fa-book-open text-lg"></i>
              </div>
              <div>
                <h1 class="bg-gradient-to-r from-cyan-400 via-sky-500 to-blue-600 bg-clip-text text-xl font-bold text-transparent md:text-2xl">
                  娇姐·学习卡片
                </h1>
                <p class="text-xs text-gray-500 dark:text-gray-400">AI 驱动的家庭学习卡片库</p>
              </div>
            </div>
            <div class="flex items-center space-x-6">
              <div class="flex items-center text-sm text-gray-700 dark:text-gray-300">
                <i class="fa-solid fa-heart mr-2 animate-pulse text-lg text-red-500"></i>
                <span>
                  累计收藏人数:
                  <span id="favorite-count" class="font-bold text-blue-600 dark:text-blue-400">268</span>
                </span>
              </div>
              <div id="auth-user-badge" class="hidden items-center space-x-2 rounded-full bg-blue-50 px-3 py-1 text-sm font-medium text-blue-700 shadow-sm dark:bg-blue-900/30 dark:text-blue-200">
                <i class="fa-solid fa-user"></i>
                <span id="auth-user-phone">--</span>
                <button id="logout-button" class="text-xs text-blue-600 underline hover:text-blue-800 dark:text-blue-300">退出</button>
              </div>
              <button
                id="login-button"
                class="rounded-full bg-blue-500 px-4 py-2 text-sm font-semibold text-white shadow-sm transition-colors duration-200 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-500"
                type="button"
              >
                登录 / 注册
              </button>
              <button
                id="theme-toggle"
                class="rounded-full bg-gray-100 p-2 text-gray-700 transition-colors duration-200 hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-200 dark:hover:bg-gray-700"
                aria-label="切换主题"
                type="button"
              >
                <i id="theme-toggle-icon" class="fa-solid fa-moon"></i>
              </button>
              <div class="hidden items-center text-sm text-gray-600 dark:text-gray-300 md:flex">
                <i class="fa-solid fa-user-circle mr-1.5"></i>
                出品人: 公众号【娇姐话AI圈】
              </div>
            </div>
          </div>
        </div>
      </header>

      <main class="container mx-auto flex-grow px-4 py-8 sm:px-6 lg:px-8">
        <section class="tech-hero mx-auto mb-10 max-w-5xl text-center">
          <div class="flex flex-col items-center justify-center gap-6 md:flex-row">
           <div class="md:w-2/3">
             <h2 class="mb-4 text-3xl font-bold text-gray-900 dark:text-gray-100 md:text-4xl lg:text-5xl">
               娇姐学习卡片中心
             </h2>
             <p class="mb-6 text-lg text-gray-600 dark:text-gray-300">
               聚合英语、汉字、情绪表达等多维学习卡片，结合 AI 语音与高清插画，为家庭自学与教辅提供沉浸式科技体验。
             </p>
             <div class="inline-flex items-center rounded-full bg-sky-100 px-4 py-1.5 text-sm font-medium text-sky-700 transition-colors duration-200 dark:bg-sky-900/40 dark:text-sky-200">
               <i class="fa-solid fa-lightbulb mr-2"></i>
               已收录 <span id="total-cases" class="mx-1">0</span> 张学习卡片 · <span id="total-categories" class="mx-1">0</span> 大主题 · 持续更新
             </div>
           </div>
          </div>
        </section>

        <section id="category-filter" class="glass-card mb-6 rounded-xl border border-gray-100 bg-white p-4 shadow-sm transition-colors duration-300 dark:border-gray-700 dark:bg-gray-800">
          <div class="flex flex-col gap-4 md:flex-row md:items-center md:justify-between">
            <h3 class="flex items-center text-lg font-semibold text-gray-800 dark:text-gray-100">
              <i class="fa-solid fa-filter mr-2 text-blue-500"></i>
              分类筛选
            </h3>
            <div class="relative w-full sm:w-72 lg:w-80">
              <input
                id="case-search"
                type="text"
                placeholder="搜索学习卡片标题或提示..."
                class="w-full rounded-lg border border-gray-200 bg-gray-50 py-2 pl-9 pr-4 text-sm text-gray-800 transition focus:border-transparent focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-200"
              />
              <i class="fa-solid fa-magnifying-glass text-gray-400 dark:text-gray-500 absolute left-3 top-1/2 -translate-y-1/2"></i>
            </div>
          </div>
          <div id="selected-category" class="mt-4 hidden flex-wrap items-center gap-2"></div>
          <div id="category-grid" class="custom-scrollbar mt-4 grid max-h-60 grid-cols-2 gap-2 overflow-y-auto pr-1 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5"></div>
        </section>

        <section>
          <div id="cases-container" class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"></div>
          <div id="load-more-container" class="mt-8 flex justify-center">
            <button
              id="load-more-button"
              type="button"
              class="hidden items-center rounded-full bg-emerald-500 px-6 py-2 text-sm font-semibold text-white shadow-md transition-colors duration-200 hover:bg-emerald-600 focus:outline-none focus:ring-2 focus:ring-emerald-400"
            >
              加载更多 <i class="fa-solid fa-angles-down ml-2"></i>
            </button>
          </div>
        </section>
      </main>

      <footer class="mt-12 bg-gray-50 py-8 transition-colors duration-300 dark:bg-gray-800">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
          <div class="flex flex-col items-center justify-between gap-4 md:flex-row">
            <div class="text-center md:text-left">
              <p class="text-sm text-gray-500 dark:text-gray-400">© <span id="current-year"></span> 娇姐学习卡片中心</p>
              <p class="mt-1 text-xs text-gray-400 dark:text-gray-500">
                出品人: 公众号【娇姐话AI圈】
                <img
                  src="https://lf-code-agent.coze.cn/obj/x-ai-cn/277835009282/attachment/WechatIMG270_20250903190326.jpg"
                  alt="娇姐话AI圈公众号二维码"
                  class="ml-2 inline-block h-10 w-10 align-middle"
                />
              </p>
            </div>
            <div class="flex space-x-6 text-gray-400">
              <a href="#" class="transition-colors duration-200 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300" aria-label="GitHub">
                <i class="fa-brands fa-github text-lg"></i>
              </a>
              <a href="#" class="transition-colors duration-200 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300" aria-label="公众号">
                <i class="fa-brands fa-weixin text-lg"></i>
              </a>
              <a href="#" class="transition-colors duration-200 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300" aria-label="关于">
                <i class="fa-solid fa-circle-info text-lg"></i>
              </a>
            </div>
          </div>
        </div>
      </footer>
    </div>
    <div
      id="auth-modal"
      class="fixed inset-0 z-[100] hidden items-center justify-center bg-black/40 px-4"
      role="dialog"
      aria-modal="true"
    >
      <div class="w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl dark:bg-gray-800">
        <div class="mb-4 flex items-center justify-between">
          <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100">家长登录 / 注册</h3>
          <button id="auth-close" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200" type="button">
            <i class="fa-solid fa-xmark text-lg"></i>
          </button>
        </div>
        <div class="mb-4 grid grid-cols-2 gap-2 rounded-lg bg-gray-100 p-1 text-sm font-medium dark:bg-gray-700">
          <button id="auth-tab-login" data-mode="login" class="rounded-md bg-white py-2 text-gray-800 shadow-sm transition-all dark:bg-gray-900 dark:text-gray-100" type="button">登录</button>
          <button id="auth-tab-register" data-mode="register" class="rounded-md py-2 text-gray-500 transition-all hover:text-gray-800 dark:text-gray-300" type="button">注册</button>
        </div>
        <form id="auth-form" class="space-y-4">
          <div>
            <label for="auth-phone" class="mb-1 block text-sm font-medium text-gray-600 dark:text-gray-300">手机号</label>
            <input
              id="auth-phone"
              type="tel"
              inputmode="numeric"
              placeholder="请输入手机号码"
              class="w-full rounded-lg border border-gray-200 bg-gray-50 px-3 py-2 text-sm text-gray-800 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:border-gray-600 dark:bg-gray-900 dark:text-gray-100"
              required
            />
          </div>
          <div id="auth-register-fields" class="space-y-4">
            <div>
              <label for="auth-invite" class="mb-1 block text-sm font-medium text-gray-600 dark:text-gray-300">邀请码</label>
              <input
                id="auth-invite"
                type="text"
                placeholder="请输入邀请码"
                class="w-full uppercase tracking-widest rounded-lg border border-gray-200 bg-gray-50 px-3 py-2 text-sm text-gray-800 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:border-gray-600 dark:bg-gray-900 dark:text-gray-100"
              />
            </div>
            <div>
              <label for="auth-age" class="mb-1 block text-sm font-medium text-gray-600 dark:text-gray-300">孩子年龄</label>
              <input
                id="auth-age"
                type="number"
                min="1"
                max="18"
                placeholder="例如：6"
                class="w-full rounded-lg border border-gray-200 bg-gray-50 px-3 py-2 text-sm text-gray-800 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:border-gray-600 dark:bg-gray-900 dark:text-gray-100"
              />
            </div>
            <div>
              <label for="auth-password" class="mb-1 block text-sm font-medium text-gray-600 dark:text-gray-300">设置密码</label>
              <input
                id="auth-password"
                type="password"
                placeholder="至少 6 位数字或字母"
                class="w-full rounded-lg border border-gray-200 bg-gray-50 px-3 py-2 text-sm text-gray-800 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:border-gray-600 dark:bg-gray-900 dark:text-gray-100"
              />
            </div>
            <div>
              <label for="auth-password-confirm" class="mb-1 block text-sm font-medium text-gray-600 dark:text-gray-300">确认密码</label>
              <input
                id="auth-password-confirm"
                type="password"
                placeholder="请再次输入密码"
                class="w-full rounded-lg border border-gray-200 bg-gray-50 px-3 py-2 text-sm text-gray-800 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:border-gray-600 dark:bg-gray-900 dark:text-gray-100"
              />
            </div>
          </div>
          <div id="auth-login-password" class="space-y-2">
            <label for="auth-password-login" class="mb-1 block text-sm font-medium text-gray-600 dark:text-gray-300">密码</label>
            <input
              id="auth-password-login"
              type="password"
              placeholder="请输入密码"
              class="w-full rounded-lg border border-gray-200 bg-gray-50 px-3 py-2 text-sm text-gray-800 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:border-gray-600 dark:bg-gray-900 dark:text-gray-100"
            />
          </div>
          <p id="auth-message" class="min-h-[1.5rem] text-sm text-blue-600 dark:text-blue-300"></p>
          <button
            id="auth-submit"
            type="submit"
            class="w-full rounded-lg bg-emerald-500 px-4 py-2 text-sm font-semibold text-white transition-colors duration-200 hover:bg-emerald-600 focus:outline-none focus:ring-2 focus:ring-emerald-300 disabled:cursor-not-allowed disabled:bg-emerald-400"
          >
            完成登录
          </button>
        </form>
      </div>
    </div>
    <script src="./scripts/auth.js"></script>
    <script src="./scripts/main.js"></script>
  </body>
</html>
